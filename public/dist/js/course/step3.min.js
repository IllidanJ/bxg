define(["jquery","template","tools","jquery_form"],function(t,e,s){var c,o=s.getId();t.ajax({type:"get",url:"/api/course/lesson",data:{cs_id:o},success:function(s){t(".body").html(e("lessons",s.result))},complete:function(){t(".body").on("click",".edit",function(){c=t(this).parent().attr("ct_id"),t.ajax({type:"get",url:"/api/course/chapter/edit",data:{ct_id:c},success:function(s){t("#lesson").html(e("lesson-tmp",s.result))}})}),t(".add").click(function(){t("#lesson").html(e("lesson-tmp",{}))})}}),t("#lesson").on("click",".xiugai",function(){var s;s=t('input[type="checkbox"]').prop("checked")?1:0,t("form").ajaxSubmit({type:"post",url:"/api/course/chapter/modify",data:{ct_is_free:s,ct_id:c,ct_cs_id:o},success:function(s){200==s.code&&(t("#lesson").modal("hide"),t.ajax({type:"get",url:"/api/course/lesson",data:{cs_id:o},success:function(s){t(".body").html(e("lessons",s.result))},complete:function(){t(".body").on("click",".edit",function(){var s=t(this).parent().attr("ct_id");t.ajax({type:"get",url:"/api/course/chapter/edit",data:{ct_id:s},success:function(s){t("#lesson").html(e("lesson-tmp",s.result))}})}),t(".add").click(function(){t("#lesson").html(e("lesson-tmp",{}))})}}))}})}),t("#lesson").on("click",".tianjia",function(){var s;s=t('input[type="checkbox"]').prop("checked")?1:0,t("form").ajaxSubmit({type:"post",url:"/api/course/chapter/add",data:{ct_is_free:s,ct_cs_id:o},success:function(s){200==s.code&&(t("#lesson").modal("hide"),t.ajax({type:"get",url:"/api/course/lesson",data:{cs_id:o},success:function(s){t(".body").html(e("lessons",s.result))},complete:function(){t(".body").on("click",".edit",function(){var s=t(this).parent().attr("ct_id");t.ajax({type:"get",url:"/api/course/chapter/edit",data:{ct_id:s},success:function(s){t("#lesson").html(e("lesson-tmp",s.result))}})}),t(".add").click(function(){t("#lesson").html(e("lesson-tmp",{}))})}}))}})})});