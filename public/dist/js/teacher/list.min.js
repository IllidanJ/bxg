define(["jquery","template","bootstrap"],function(t,a){t.ajax({type:"get",url:"/api/teacher",success:function(e){if(200==e.code){var s=a("teacher_list_temp",e);t("#teacher_list").html(s),t(".handle").each(function(){0==t(this).parent().data("status")?t(this).addClass("btn-warning").html("注 销"):t(this).addClass("btn-success").html("启 用")})}}}),t("#teacher_list").on("click",".preview",function(){var e=t(t(this).parent()[0]).data("id");console.log(e),t(".modal").modal("show"),t.ajax({type:"get",url:"/api/teacher/view",data:{tc_id:e},success:function(e){var s=a("teacher_info_temp",e.result);t("#teacher_info").html(s)}})}),t("#teacher_list").on("click",".handle",function(){var a=t(this).parent().data("status"),e=t(this).parent().data("id"),s=t(this);t.ajax({type:"post",url:"/api/teacher/handle",data:{tc_id:e,tc_status:a},success:function(t){200==t.code&&(a=t.result.tc_status)},complete:function(){1==a?s.html("启 用").removeClass("btn-warning").addClass("btn-success").parent().data("status",a):s.html("注 销").addClass("btn-warning").removeClass("btn-success").parent().data("status",a)}})})});