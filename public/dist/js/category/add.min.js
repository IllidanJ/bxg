define(["jquery","template","tools"],function(e,t,c){var a=c.getId();if(console.log(a),a){var o={cg_id:a};e.ajax({url:"/api/category/edit",type:"get",data:o,success:function(c){if(200==c.code){var a=t("category",c.result);e(".course-category").html(a),e(".breadcrumb li:last-child").html("课程编辑"),e("#select").val(c.result.cg_pid),e("form").append('<input type="hidden" name="cg_id" value='+c.result.cg_id+">")}},complete:function(){e(".baocun").click(function(){e.ajax({url:"/api/category/modify",type:"post",data:e("form").serialize(),success:function(e){200==e.code&&(alert("修改成功"),location.href="/category/list")}})})}})}else e.ajax({type:"get",url:"/api/category/top",success:function(c){if(200==c.code){var a=t("category",{top:c.result});e(".course-category").html(a),e(".breadcrumb li:last-child").html("课程添加")}},complete:function(){e(".baocun").click(function(){e.ajax({url:"/api/category/add",type:"post",data:e("form").serialize(),success:function(e){200==e.code&&(alert("添加成功"),location.href="/category/list")}})})}})});